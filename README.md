# Gesture-PTD
Тема проекта: Управление жестами световым прибором. 

Данный проект представляет собой приложение на Python, которое по жестам одной или двух рук формирует три числовых канала управления прожектором-«головой»:

| Канал      | Диапазон      | Управляется                                                                                 |
| ---------- | ------------- | ------------------------------------------------------------------------------------------- |
| **Pan**    | −270 … +270 ° | расстоянием между большим и указательным пальцами **левой** руки                            |
| **Tilt**   | −120 … +120 ° | расстоянием между большим и указательным пальцами **правой** руки                           |
| **Dimmer** | 0 … 100 %     | вертикальным положением большого пальца правой руки вдоль шкалы, нарисованной справа в окне |

---

## Цель проекта

Создать устойчивый к дрожанию, интуитивный интерфейс, который в реальном времени превращает жесты рук в значения Pan, Tilt и Dimmer для последующей передачи в систему управления светом.

### Задачи

1. Выбрать инструменты компьютерного зрения (OpenCV + MediaPipe Hands).
2. Реализовать обработку видео: захват → детекция ладони → вычисление жестов.
3. Добавить пошаговую калибровку четырёх опорных поз (Pan ±270°, Tilt ±120°).
4. Ввести фильтры: медианное окно + «dead-zone» ±2° + EMA-сглаживание.
5. Нарисовать на экране шкалу Dimmer (от 0 до 100 %) и подсказки режимов.
6. Подготовить `requirements.txt`, README и примеры запуска.

---

## Режимы работы

| Режим      | Как включить               | Что происходит                                             |
| ---------- | -------------------------- | ---------------------------------------------------------- |
| **CONFIG** | два кулака                 | 4 шага калибровки (Pan-, Pan+, Tilt-, Tilt+) по 2 с каждый |
| **MOVE**   | автоматически после CONFIG | расчёт и вывод Pan / Tilt / Dimmer                         |
| **HOLD**   | левый кулак                | «заморозка» текущих значений; повторный кулак снимает HOLD |

---

## Установка и запуск

```bash
git clone https://github.com/you/gesture-ptd.git
cd gesture-ptd
python -m venv venv
source venv/bin/activate     # Windows: venv\Scripts\activate
pip install -r requirements.txt
python src/gesture_ptd.py
```

*Для выхода из программы нажмите `q` в окне с видео.*

---

## Используемые жесты

* **Вход в CONFIG** — обе руки сжать в кулак.
* **HOLD / возобновить MOVE** — левый кулак.
* **Pan** — сводить / разводить большой и указательный пальцы левой руки.
* **Tilt** — то же на правой руке.
* **Dimmer** — перемещать большой палец правой руки между пунктирными линиями:
  нижняя — 0 %, средняя — 50 %, верхняя — 100 %.

---

## Настраиваемые параметры (в коде)

| Параметр           | По умолчанию       | Назначение                                  |
| ------------------ | ------------------ | ------------------------------------------- |
| `EMA_ALPHA`        | 0.25               | коэффициент EMA-сглаживания                 |
| `DEAD_ZONE_DEG`    | 2.0                | порог, ниже которого колебания игнорируются |
| `MEDIAN_N`         | 5                  | размер окна медианного фильтра              |
| `TOP_Y / BOTTOM_Y` | 35 % / 65 % высоты | положение шкалы Dimmer                      |

---

## Минимальные системные требования

* Python 3.9+
* Веб-камера 720p (30 FPS)
* CPU уровня Intel i5 (без GPU-ускорения)

---

## Лицензия

MIT License.
